## Диагностика
- Сообщения "Видео не найдено" и "Вопросов пока нет" выводятся в `components/tabs/course-lesson-tab.tsx:278` и `components/tabs/course-lesson-tab.tsx:305`.
- Данные урока для пользователя приходят из `GET /courses/:courseId` и `GET /courses/:courseId/lessons/:lessonId` (`server/src/routes/courses.ts:442–556`). Поля `videoUrl/presentationUrl/slides` возвращаются только при доступе или если курс бесплатный/урок `isFreePreview` (`server/src/routes/courses.ts:481–503, 540–543`).
- В админке медиа настраиваются локально (IndexedDB) и требуют явной загрузки на сервер, иначе `videoUrl`/`presentationUrl`/`slides` остаются пустыми. Кнопки загрузки есть в `app/admin/courses/new/[moduleId]/[lessonId]/page.tsx:264–297`. Сохранение курса уходит в `/api/admin/courses` (`server/src/routes/admin.ts:530–578, 580–800`).
- Если видео не загружено на сервер (нет `videoUrl`), пользователь видеть не будет, даже если на админской машине есть `videoMediaId`.
- Вопросы создаются при публикации в `app/admin/courses/new/page.tsx:576–600` через `POST /courses/:id/questions` (`server/src/routes/courses.ts:61–83`). Если вопрос добавлен в редакторе урока, но курс не публиковался из общей страницы — вопрос мог не попасть в БД.

## План исправлений
1) Автозагрузка медиа при публикации курса
- В `app/admin/courses/new/page.tsx` перед формированием payload: если у урока есть `videoMediaId`/`presentationMediaId`/`slideMediaIds`, но нет `videoUrl`/`presentationUrl`/`slideUrls` — выполняем загрузку на сервер и подставляем `url`.
- Используем ту же логику, что и в `app/admin/courses/new/[moduleId]/[lessonId]/page.tsx:187–210` (формирование `FormData` и POST на `/uploads/media`).

2) Сохранение вопросов независимо от места ввода
- Дополнительно в `app/admin/courses/new/[moduleId]/[lessonId]/page.tsx`: при нажатии "Сохранить" после `persistToServer` создаём/обновляем вопрос через `POST /courses/:courseId/questions` (при наличии `edit` в query и валидных данных вопроса). Это закроет кейс, когда вопрос добавлен из редактора урока.

3) Защита от некорректных сообщений на клиенте
- В `components/tabs/course-lesson-tab.tsx` добавить обработку 403 при загрузке вопросов: вместо молчаливого `[]` показывать понятный баннер доступа. Это поможет отличить реальное отсутствие вопросов от отсутствия доступа.

## Что именно изменю
- `app/admin/courses/new/page.tsx`:
  - Добавлю вспомогательную функцию `uploadById(id)` по образцу из `.../new/[moduleId]/[lessonId]/page.tsx:187–210`.
  - Перед созданием/обновлением курса выполню автозагрузку всех медиа и заполню `videoUrl/presentationUrl/slideUrls` для каждого урока.
- `app/admin/courses/new/[moduleId]/[lessonId]/page.tsx`:
  - После `persistToServer()` добавлю вызов сохранения вопроса в `/courses/:courseId/questions` при наличии валидных данных.
- `components/tabs/course-lesson-tab.tsx`:
  - В блоке загрузки вопросов (`lines 196–205`) при 403 показывать явное сообщение о доступе вместо "Вопросов пока нет".

## Проверка
- Через админку: создать курс, добавить видео, слайды, презентацию и вопрос; нажать только "Сохранить/Опубликовать" без ручных кнопок загрузки — проверю, что видео/слайды/презентация получили `url` и сохранились.
- Через пользовательский интерфейс: открыть тот же курс и урок — видео воспроизводится, слайды/презентация доступны, вопрос отображается.
- Проверю кейс платного курса без доступа: показывается оверлей доступа и явное сообщение для вопросов.

Готов внести изменения по этому плану и показать результат.